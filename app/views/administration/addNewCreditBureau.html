<div ng-controller="AddNewCreditBureauController">
    <div>
        <ul class="breadcrumb">
            <li><a href="#/system">{{'label.anchor.system' | translate}}</a></li>
            <li><a href="#/externalservices">{{'label.anchor.externalServices' | translate}}</a></li>
            <li class="active">{{'label.anchor.addnewcb' | translate}}</li>
        </ul>
    </div>
    <form name="addNewCreditBureauConfiguration" novalidate="" class="form-horizontal well" ng-submit="submit()">
        <api-validate></api-validate>

        <fieldset>
            <legend>{{ 'label.anchor.addnewcb' | translate }}</legend>
            <div class="form-group">
                <label class="control-label col-sm-2" for="alias">{{ 'label.input.alias' | translate }}<span
                        class="required">*</span></label>

                <div class="col-sm-3">
                    <input type="text" id="alias" name="alias" ng-model="formData.alias"  class="form-control" required
                           late-Validate/>
                </div>
                <div class="col-sm-2">
                    <form-validate valattributeform="alias" valattribute="alias"/>
                </div>
            </div>


            <div class="form-group">
                <label class="control-label col-sm-2" for="country">{{'label.input.country' | translate}}<span
                        class="required">*</span> </label>
                <div class="col-sm-3">
                    <select chosen="countries" id="country" ng-model="formData.country"  class="form-control"
                            ng-options="country.country for country in countries | unique:'country'
                             track by country.country"
                            ng-change="changecountry(formData.country)" value="formData.country"></select>
                </div>
            </div>

            <label >{{ formData.country }}</label>


            <div class="form-group">
                <label class="control-label col-sm-2" for="creditbureau">{{'label.input.creditbureau' | translate}}<span
                        class="required">*</span> </label>
                <div class="col-sm-3">
                    <select chosen="creditbureaus" id="creditbureau" ng-model="formData.creditbureau"  class="form-control"
                            ng-options="creditbureau.cbID as creditbureau.cbName for creditbureau in creditbureaus"
                            ng-change="changecreditbureau(formData.creditbureau)" value="formData.creditbureau"></select>
                </div>
            </div>


            <label >{{ formData.creditbureau }}</label>


            <div class="form-group">
                <label class="control-label col-sm-2" for="country">{{'label.input.cbproduct' | translate}}<span
                        class="required">*</span> </label>

                <div class="col-sm-3">
                    <select chosen="cbproducts" id="cbproduct" ng-model="cbproducts" class="form-control"
                            ng-options="cbproduct.credit_bureau_name for cbproduct in cbproducts"
                            value="cbproducts.credit_bureau_name"></select>
                </div>
            </div>

            <div>
                <label >{{cbproducts}}</label>
            </div>


            <div class="col-md-offset-3">
                <a id="cancel" ng-href="#/externalservicesCB/CreditBureau" class="btn btn-default">{{'label.button.cancel' | translate}}</a>
                <button id="save" type="submit" ng-disabled="!AddNewCreditBureauController.$valid" has-permission='UPDATE_EXTERNALSERVICES' class="btn btn-primary">{{
                    'label.button.save' | translate }}
                </button>
            </div>

        </fieldset>
    </form>
</div>